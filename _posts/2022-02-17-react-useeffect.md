---
layout: post

title: react - UseEffect

tags: [React]

image:
---

### UseEffect

- 이 HOOK은 리액트에서 기본적으로 알고 있어야할만큼, 아주 중요한 함수이다.

### 언제 쓰는 것인가?

1. 어떠한 함수 혹은 API가 화면의 첫 렌더링 끝나면 단 한 번 만 실행이 됐으면 할 때
2. 어떠한 특정 값이 바뀔 때만 실행이 됐으면 할 때

### 어떻게 쓰는가?

```javascript
useEffect(함수orAPI , [특정 값])
```

### 예시

1. 단 한번만 실행
   두번째 인자 위치에 배열이 들어가는데, 이 곳이 비어있으면 단 한번만 실행하게 되고, 화면 내 어떠한 state가 바뀌게 되어도 해당 함수는 실행되지 않는다.

```javascript
useEffect(() => {
  console.log("단한번만 실행함");
}, []);
// "단한번만 실행함" 이 콘솔창에 찍힘
```

2. 어떠한 특정 값이 바뀔 때

```javascript
useEffect(() => {
  console.log("값이 바뀔 때 실행함");
}, [dependency]);
```

배열[]안에 들어가는 값의 명칭을 dependency 라고 하는데, 사전적 의미로 "종속"을 뜻한다.
즉, useEffect에 속한 함수는 배열의 값에 "종속"되어서 실행된다는 것이다!
그러므로 배열의 값이 함수를 컨트롤할 수 있다 -> 값이 변경될 때마다 함수도 같이 움직인다. 라고 이해가 된다.

3. 만약에 dependency가 빠지면 어떻게 되나?
   두번째 인자에 빈 배열이 아예 없다면, 화면 내 사용된 useState의 값이 변경될 때마다 실행이 된다.
   마치 떠돌이마냥 이곳 저곳 붙으면서 움직인다는 것이다.

```javascript
useEffect(() => {
  console.log("먹이를 찾아 떠도는...");
});
```
